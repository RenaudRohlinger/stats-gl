import{S as w}from"./main-a231d0d0.js";import*as n from"https://unpkg.com/three@0.182.0/build/three.webgpu.js";import{OrbitControls as p}from"https://unpkg.com/three@0.182.0/examples/jsm/controls/OrbitControls.js";import{GLTFLoader as f}from"https://unpkg.com/three@0.182.0/examples/jsm/loaders/GLTFLoader.js";import{instancedArray as u,Fn as g,instanceIndex as d,vec3 as h}from"https://unpkg.com/three@0.182.0/build/three.tsl.js";const m=32,P=u(m,"vec3"),x=g(()=>{P.element(d).assign(h(d))})().compute(m);let s;const b=new n.Clock,l=document.getElementById("container"),c=new w({trackFPS:!0,trackGPU:!0,trackCPT:!1,trackHz:!1});l.appendChild(c.dom);const e=new n.WebGPURenderer({antialias:!0});e.setPixelRatio(window.devicePixelRatio);e.setSize(window.innerWidth,window.innerHeight);l.appendChild(e.domElement);const o=new n.Scene;o.background=new n.Color(12575709);const i=new n.PerspectiveCamera(40,window.innerWidth/window.innerHeight,1,100);i.position.set(5,2,8);const a=new p(i,e.domElement);a.target.set(0,.5,0);a.update();a.enablePan=!1;a.enableDamping=!0;o.add(new n.AmbientLight(15856127,1.5));const y=new n.DirectionalLight(16777215,2);o.add(y);const C=new f;C.load("./demo/Flamingo.glb",function(t){const r=t.scene;r.position.set(1,1,0),r.scale.set(.025,.025,.025),o.add(r),s=new n.AnimationMixer(r),s.clipAction(t.animations[0]).play(),e.setAnimationLoop(E),c.init(e)},void 0,function(t){console.error(t)});window.onresize=function(){i.aspect=window.innerWidth/window.innerHeight,i.updateProjectionMatrix(),e.setSize(window.innerWidth,window.innerHeight)};async function E(){const t=b.getDelta();s.update(t),a.update(),e.render(o,i),e.compute(x),e.resolveTimestampsAsync(n.TimestampQuery.RENDER),e.resolveTimestampsAsync(n.TimestampQuery.COMPUTE),c.update()}
